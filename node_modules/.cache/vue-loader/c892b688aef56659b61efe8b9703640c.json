{"remainingRequest":"/Users/suhang/Template/tradingview/demo2/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/suhang/Template/tradingview/demo2/src/components/sTradingview/sTradingview.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/suhang/Template/tradingview/demo2/src/components/sTradingview/sTradingview.vue","mtime":1599244183722},{"path":"/Users/suhang/Template/tradingview/demo2/node_modules/cache-loader/dist/cjs.js","mtime":1598844172828},{"path":"/Users/suhang/Template/tradingview/demo2/node_modules/babel-loader/lib/index.js","mtime":1598844172845},{"path":"/Users/suhang/Template/tradingview/demo2/node_modules/cache-loader/dist/cjs.js","mtime":1598844172828},{"path":"/Users/suhang/Template/tradingview/demo2/node_modules/vue-loader/lib/index.js","mtime":1598844194174}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIGh0dHBzOi8vYmxvZy5jc2RuLm5ldC93ZWl4aW5fNDE0MjEyMjcvYXJ0aWNsZS9kZXRhaWxzLzgxNDU2MjA1CmltcG9ydCB7IHdpZGdldCB9IGZyb20gIkAvY29tbW9uL3RyYWRpbmd2aWV3L2NoYXJ0aW5nX2xpYnJhcnkubWluLmpzIjsKaW1wb3J0IGRhdGFmZWVkcyBmcm9tICJAL2NvbW1vbi90cmFkaW5ndmlldy9kYXRhZmVlcy5qcyI7CmltcG9ydCBjb25maWcgZnJvbSAiLi9jb25maWciOwppbXBvcnQgeyB3ZWJTb2NrZXRNaXhpbiB9IGZyb20gIi4vbWl4aW4vd2ViU29ja2V0IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJzVHJhZGluZ3ZpZXciLAogIG1peGluczogW3dlYlNvY2tldE1peGluXSwKICBwcm9wczogewogICAgLy9Eb23lhYPntKBpZAogICAgZG9tSWQ6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuICJ0cmFkZVZpZXciOwogICAgICB9LAogICAgfSwKICAgIC8v6K+35rGC5Zyw5Z2ACiAgICB3c1VybDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gIiI7CiAgICAgIH0sCiAgICB9LAogICAgLy/mmK/lkKbmmL7npLpNQUNECiAgICBpc19NQUNEOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0sCiAgICB9LAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRhYnNBcnI6IFsKICAgICAgICAvLyB7CiAgICAgICAgLy8gICBuYW1lOiAi5YiG5pe2IiwKICAgICAgICAvLyAgIHZhbHVlOiAiMVMiLAogICAgICAgIC8vICAgd2Vic29ja1NlbmQ6ICIwIiwKICAgICAgICAvLyB9LAogICAgICAgIHsKICAgICAgICAgIG5hbWU6ICIx5YiG6ZKfIiwKICAgICAgICAgIHZhbHVlOiAiMW1pbiIsCiAgICAgICAgICB3ZWJzb2NrU2VuZDogIjEiLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgbmFtZTogIjXliIbpkp8iLAogICAgICAgICAgdmFsdWU6ICI1bWluIiwKICAgICAgICAgIHdlYnNvY2tTZW5kOiAiNSIsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBuYW1lOiAiMTXliIbpkp8iLAogICAgICAgICAgdmFsdWU6ICIxNW1pbiIsCiAgICAgICAgICB3ZWJzb2NrU2VuZDogIjE1IiwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIG5hbWU6ICIzMOWIhumSnyIsCiAgICAgICAgICB2YWx1ZTogIjMwbWluIiwKICAgICAgICAgIHdlYnNvY2tTZW5kOiAiMzAiLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgbmFtZTogIjHlsI/ml7YiLAogICAgICAgICAgdmFsdWU6ICI2MG1pbiIsCiAgICAgICAgICB3ZWJzb2NrU2VuZDogIjYwIiwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIG5hbWU6ICLml6Xnur8iLAogICAgICAgICAgdmFsdWU6ICIxZGF5IiwKICAgICAgICAgIHdlYnNvY2tTZW5kOiAiMUQiLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgbmFtZTogIuWRqOe6vyIsCiAgICAgICAgICB2YWx1ZTogIjF3ZWVrIiwKICAgICAgICAgIHdlYnNvY2tTZW5kOiAiMVciLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgbmFtZTogIuaciOe6vyIsCiAgICAgICAgICB2YWx1ZTogIjFtb24iLAogICAgICAgICAgd2Vic29ja1NlbmQ6ICIxTSIsCiAgICAgICAgfSwKICAgICAgXSwKICAgICAgc3ltYm9sOiAiTFRDX1VTRFQiLAogICAgICBpbnRlcnZhbDogIjFtaW4iLAogICAgICBjaGFydDogbnVsbCwKICAgICAgaW5pdGRhdGE6IHt9LAogICAgICBjb3VudERhdGU6IDAsIC8v57Sv5Yqg5p2h5pWwCiAgICAgIHN0YXJ0RGF0YTogMCwgLy/otbflp4vmnaHmlbAKICAgICAgbGVuZ3NEYXRhOiAyMDAsIC8v57uT5p2f6ZW/5bqmCiAgICAgIGRhdGFmZWVkczogbmV3IGRhdGFmZWVkcyh0aGlzKSwKICAgICAgb25Mb2FkZWRDYWxsYmFjazogbnVsbCwgLy/liJ3lp4vmlbDmja7lm57osIMKICAgICAgb25SZWFsdGltZUNhbGxiYWNrOiBudWxsLCAvL3dlYnNvY2tldOaVsOaNruWbnuiwgwogICAgfTsKICB9LAogIG1vdW50ZWQoKSB7CiAgICAvL+WKoOi9vUvnur/lm74KICAgIHRoaXMubG9hZENoYXJ0KCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvKioKICAgICAqIOWIh+aNouinpuWPkQogICAgICogZSB7c3RyaW5nfSByZXNldD3ph43nva7mlbDmja4KICAgICAqLwogICAgY2hhbmdlVGFicyhlKSB7CiAgICAgIHRoaXMuaW50ZXJ2YWwgPSBlOwogICAgICB0aGlzLnNldFN5bWJvbHMoKTsKICAgICAgdGhpcy5jaGFydAogICAgICAgIC5jaGFydCgpCiAgICAgICAgLnNldFJlc29sdXRpb24odGhpcy5maWx0ZXIoZSksIGZ1bmN0aW9uIG9uUmVhZHlDYWxsYmFjayhlKSB7fSk7CiAgICAgIHRoaXMud2ViU29ja2V0KCJsb2FkIik7CiAgICB9LAogICAgZmlsdGVyKHRpbWUpIHsKICAgICAgaWYgKHRpbWUgPT0gIjFTIikgcmV0dXJuICIxUyI7CiAgICAgIGVsc2UgaWYgKHRpbWUgPT0gIjFtaW4iKSByZXR1cm4gIjEiOwogICAgICBlbHNlIGlmICh0aW1lID09ICI1bWluIikgcmV0dXJuICI1IjsKICAgICAgZWxzZSBpZiAodGltZSA9PSAiMTVtaW4iKSByZXR1cm4gIjE1IjsKICAgICAgZWxzZSBpZiAodGltZSA9PSAiMzBtaW4iKSByZXR1cm4gIjMwIjsKICAgICAgZWxzZSBpZiAodGltZSA9PSAiNjBtaW4iKSByZXR1cm4gIjYwIjsKICAgICAgZWxzZSBpZiAodGltZSA9PSAiMWRheSIpIHJldHVybiAiMUQiOwogICAgICBlbHNlIGlmICh0aW1lID09ICIxd2VlayIpIHJldHVybiAiMVciOwogICAgICBlbHNlIGlmICh0aW1lID09ICIxbW9uIikgcmV0dXJuICIxTSI7CiAgICB9LAoKICAgIC8vIOivt+axguaVsOaNrgogICAgZ2V0QmFycygKICAgICAgc3ltYm9sSW5mbywKICAgICAgcmVzb2x1dGlvbiwKICAgICAgcmFuZ2VTdGFydERhdGUsCiAgICAgIHJhbmdlRW5kRGF0ZSwKICAgICAgb25Mb2FkZWRDYWxsYmFjawogICAgKSB7CiAgICAgIHRoaXMub25Mb2FkZWRDYWxsYmFjayA9IG9uTG9hZGVkQ2FsbGJhY2s7CiAgICAgIHRoaXMud2ViU29ja2V0KCJsb2FkIik7CiAgICB9LAoKICAgIC8vc29ja2V0CiAgICBzdWJzY3JpYmVCYXJzKAogICAgICBzeW1ib2xJbmZvLAogICAgICByZXNvbHV0aW9uLAogICAgICBvblJlYWx0aW1lQ2FsbGJhY2ssCiAgICAgIHN1YnNjcmliZXJVSUQsCiAgICAgIG9uUmVzZXRDYWNoZU5lZWRlZENhbGxiYWNrCiAgICApIHsKICAgICAgdGhpcy5vblJlYWx0aW1lQ2FsbGJhY2sgPSBvblJlYWx0aW1lQ2FsbGJhY2s7CiAgICAgIHRoaXMud2ViU29ja2V0KCJnZXQiKTsKICAgIH0sCgogICAgLy/ojrflj5bphY3nva7kv6Hmga8KICAgIGdldFN5bWJvbChzeW1ib2wpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBuYW1lOiBzeW1ib2wsCiAgICAgICAgZnVsbF9uYW1lOiBzeW1ib2wsCiAgICAgICAgdGltZXpvbmU6ICJBc2lhL1NoYW5naGFpIiwKICAgICAgICBtaW5tb3Y6IDEsCiAgICAgICAgbWlubW92MjogMCwKICAgICAgICBwb2ludHZhbHVlOiAxLAogICAgICAgIGZyYWN0aW9uYWw6IGZhbHNlLAogICAgICAgIC8v6K6+572u5ZGo5pyfCiAgICAgICAgc2Vzc2lvbjogIjI0eDciLAogICAgICAgIGhhc19pbnRyYWRheTogdHJ1ZSwKICAgICAgICBoYXNfbm9fdm9sdW1lOiBmYWxzZSwKICAgICAgICAvL+iuvue9ruaYr+WQpuaUr+aMgeWRqOaciOe6vwogICAgICAgIC8vIGhhc19kYWlseTogdHJ1ZSwKICAgICAgICAvL+iuvue9ruaYr+WQpuaUr+aMgeWRqOaciOe6vwogICAgICAgIC8vIGhhc193ZWVrbHlfYW5kX21vbnRobHk6IHRydWUsCiAgICAgICAgZGVzY3JpcHRpb246IHN5bWJvbCwKICAgICAgICAvL+iuvue9rueyvuW6piAgMTAw6KGo56S65L+d55WZ5Lik5L2N5bCP5pWwICAgMTAwMOS4ieS9jSAgIDEwMDAw5Zub5L2NCiAgICAgICAgcHJpY2VzY2FsZTogMTAwLAogICAgICAgIHRpY2tlcjogc3ltYm9sLAogICAgICAgIC8vICAnc3VwcG9ydGVkX3Jlc29sdXRpb25zJzogWycxJywgJzUnLCAnMTUnLCAnMzAnLCAnNjAnLCAnMjQwJywnMUQnLCAnNUQnLCAnMVcnLCAnMU0nXQogICAgICB9OwogICAgfSwKCiAgICAvL+iuvue9ruWTgeS/oeaBryjph43mlrDojrflj5bliJ3lp4vmlbDmja4v5o6o6YCB5pWw5o2uKQogICAgc2V0U3ltYm9scygpIHsKICAgICAgbGV0IHNlbGYgPSB0aGlzOwogICAgICBzZWxmLmNoYXJ0LnNldFN5bWJvbCgKICAgICAgICBzZWxmLnN5bWJvbCwKICAgICAgICBzZWxmLmZpbHRlcihzZWxmLmludGVydmFsKSwKICAgICAgICBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBzZWxmLmNoYXJ0LmNoYXJ0KCkuc2V0VmlzaWJsZVJhbmdlKHNlbGYuaW5pdGRhdGEpOwogICAgICAgICAgc2VsZi5jaGFydC5jaGFydCgpLmV4ZWN1dGVBY3Rpb25CeUlkKCJ0aW1lU2NhbGVSZXNldCIpOwogICAgICAgIH0KICAgICAgKTsKICAgIH0sCgogICAgLy/ljbjovb1L57q/CiAgICByZW1vdmVDaGFydCgpIHsKICAgICAgaWYgKHRoaXMuY2hhcnQpIHsKICAgICAgICB0aGlzLmNoYXJ0LnJlbW92ZSgpOwogICAgICAgIHRoaXMuY2hhcnQgPSBudWxsOwogICAgICB9CiAgICB9LAoKICAgIC8v5Yqg6L29S+e6v+WbvuaPkuS7tgogICAgbG9hZENoYXJ0KCkgewogICAgICBsZXQgc2VsZiA9IHRoaXM7CiAgICAgIHRoaXMuY2hhcnQgPSBuZXcgd2lkZ2V0KHsKICAgICAgICBjb250YWluZXJfaWQ6IHNlbGYuZG9tSWQsCiAgICAgICAgc3ltYm9sOiBzZWxmLnN5bWJvbCwKICAgICAgICBpbnRlcnZhbDogc2VsZi5maWx0ZXIoc2VsZi5pbnRlcnZhbCksCiAgICAgICAgbG9jYWxlOiAiemgiLAogICAgICAgIGF1dG9zaXplOiB0cnVlLAogICAgICAgIGZ1bGxzY3JlZW46IGZhbHNlLCAvL+aYr+WQpuWNoOeUqOinhuWbvuaJgOacieepuumXtAogICAgICAgIHByZXNldDogIm1vYmlsZSIsCiAgICAgICAgdG9vbGJhcl9iZzogIiMxZTIyMzUiLAogICAgICAgIGRhdGFmZWVkOiB0aGlzLmRhdGFmZWVkcywKICAgICAgICB0aW1lem9uZTogIkFzaWEvU2hhbmdoYWkiLAogICAgICAgIGxpYnJhcnlfcGF0aDogIi9zdGF0aWMvY2hhcnRpbmdfbGlicmFyeS8iLAogICAgICAgIGluZGljYXRvcnNfZmlsZV9uYW1lOiAiY3VzdG9tLXN0dWR5KE1BQ0TnuqLnu78pLmpzIiwKICAgICAgICBkcmF3aW5nc19hY2Nlc3M6IHsKICAgICAgICAgIHR5cGU6ICJibGFjayIsCiAgICAgICAgICB0b29sczogW3sgbmFtZTogIlJlZ3Jlc3Npb24gVHJlbmQiIH1dLAogICAgICAgIH0sCiAgICAgICAgLy/phY3nva7pobkKICAgICAgICAuLi5jb25maWcsCiAgICAgICAgLy/orr7nva7liJ3lp4vljJbliqDovb3mnaHmoLflvI8KICAgICAgICBsb2FkaW5nX3NjcmVlbjogewogICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAiIzFlMjIyZCIsCiAgICAgICAgICBmb3JlZ3JvdW5kQ29sb3I6ICIjNWQ3ZDkzIiwKICAgICAgICB9LAogICAgICB9KTsKCiAgICAgIHRoaXMuY2hhcnQub25DaGFydFJlYWR5KGZ1bmN0aW9uICgpIHsKICAgICAgICAvL+iuvue9ruWdh+e6v+enjeexuyDlnYfnur/moLflvI8KICAgICAgICAvLyBzZWxmLmNoYXJ0LmNoYXJ0KCkuY3JlYXRlU3R1ZHkoJ01vdmluZyBBdmVyYWdlJywgZmFsc2UsIGZhbHNlLCBbNV0sIG51bGwsIHsnUGxvdC5jb2xvcic6ICdyZ2IoMTUwLCA5NSwgMTk2KSd9KTsKICAgICAgICAvLyBzZWxmLmNoYXJ0LmNoYXJ0KCkuY3JlYXRlU3R1ZHkoJ01vdmluZyBBdmVyYWdlJywgZmFsc2UsIGZhbHNlLCBbMTBdLCBudWxsLCB7J1Bsb3QuY29sb3InOiAncmdiKDExNiwxNDksMTg3KSd9KTsKICAgICAgICAvLyBzZWxmLmNoYXJ0LmNoYXJ0KCkuY3JlYXRlU3R1ZHkoJ01vdmluZyBBdmVyYWdlJywgZmFsc2UsIGZhbHNlLCBbMjBdLG51bGwseyJwbG90LmNvbG9yIjogInJnYig1OCwxMTMsNzQpIn0pOwogICAgICAgIC8vIHNlbGYuY2hhcnQuY2hhcnQoKS5jcmVhdGVTdHVkeSgnTW92aW5nIEF2ZXJhZ2UnLCBmYWxzZSwgZmFsc2UsIFszMF0sbnVsbCx7InBsb3QuY29sb3IiOiAicmdiKDExOCwzMiw5OSkifSk7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIHNlbGYuY2hhcnQKICAgICAgICAgICAgLmNoYXJ0KCkKICAgICAgICAgICAgLmNyZWF0ZVN0dWR5KCJNb3ZpbmcgQXZlcmFnZSIsICExLCAhMSwgWzddLCBudWxsLCB7fSk7CiAgICAgICAgICBzZWxmLmNoYXJ0CiAgICAgICAgICAgIC5jaGFydCgpCiAgICAgICAgICAgIC5jcmVhdGVTdHVkeSgiTW92aW5nIEF2ZXJhZ2UiLCAhMSwgITEsIFsxMF0sIG51bGwsIHt9KTsKICAgICAgICAgIHNlbGYuY2hhcnQKICAgICAgICAgICAgLmNoYXJ0KCkKICAgICAgICAgICAgLmNyZWF0ZVN0dWR5KCJNb3ZpbmcgQXZlcmFnZSIsICExLCAhMSwgWzMwXSwgbnVsbCwge30pOwogICAgICAgICAgaWYgKHNlbGYuaXNfTUFDRCkgewogICAgICAgICAgICBzZWxmLmNoYXJ0LmNoYXJ0KCkuY3JlYXRlU3R1ZHkoIk1BQ0QiLCAhMSwgITEsIFsyMF0sIG51bGwsIHt9KTsgLy9NQUNECiAgICAgICAgICAgIHNlbGYuY2hhcnQKICAgICAgICAgICAgICAuY2hhcnQoKQogICAgICAgICAgICAgIC5jcmVhdGVTdHVkeSgKICAgICAgICAgICAgICAgICLmjIfmlbDlubPmu5HlvILlkIznp7vliqjlubPlnYfnur8oTUFDRF9DdXN0b20pIiwKICAgICAgICAgICAgICAgIGZhbHNlLAogICAgICAgICAgICAgICAgZmFsc2UsCiAgICAgICAgICAgICAgICBbMjBdLAogICAgICAgICAgICAgICAgbnVsbCwKICAgICAgICAgICAgICAgIHt9CiAgICAgICAgICAgICAgKTsgLy/oh6rlrprkuYlNQUNECiAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoZSkge30KICAgICAgfSk7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["sTradingview.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAiBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"sTradingview.vue","sourceRoot":"src/components/sTradingview","sourcesContent":["<template>\n  <div class=\"sTradingviewContent\">\n    <van-tabs\n      class=\"tabsWrap\"\n      title-active-color=\"#6394f0\"\n      title-inactive-color=\"#7a90ad\"\n      color=\"#6394f0\"\n      background=\"#2a3041\"\n      v-model=\"interval\"\n      @change=\"changeTabs\"\n    >\n      <van-tab v-for=\"(item,index) in tabsArr\" :title=\"item.name\" :name=\"item.value\" :key=\"index\" />\n    </van-tabs>\n    <div :id=\"domId\" class=\"sTradingviewView\"></div>\n  </div>\n</template>\n<script>\n// https://blog.csdn.net/weixin_41421227/article/details/81456205\nimport { widget } from \"@/common/tradingview/charting_library.min.js\";\nimport datafeeds from \"@/common/tradingview/datafees.js\";\nimport config from \"./config\";\nimport { webSocketMixin } from \"./mixin/webSocket\";\nexport default {\n  name: \"sTradingview\",\n  mixins: [webSocketMixin],\n  props: {\n    //Dom元素id\n    domId: {\n      type: String,\n      default: function () {\n        return \"tradeView\";\n      },\n    },\n    //请求地址\n    wsUrl: {\n      type: String,\n      default: function () {\n        return \"\";\n      },\n    },\n    //是否显示MACD\n    is_MACD: {\n      type: Boolean,\n      default: function () {\n        return false;\n      },\n    },\n  },\n  data() {\n    return {\n      tabsArr: [\n        // {\n        //   name: \"分时\",\n        //   value: \"1S\",\n        //   websockSend: \"0\",\n        // },\n        {\n          name: \"1分钟\",\n          value: \"1min\",\n          websockSend: \"1\",\n        },\n        {\n          name: \"5分钟\",\n          value: \"5min\",\n          websockSend: \"5\",\n        },\n        {\n          name: \"15分钟\",\n          value: \"15min\",\n          websockSend: \"15\",\n        },\n        {\n          name: \"30分钟\",\n          value: \"30min\",\n          websockSend: \"30\",\n        },\n        {\n          name: \"1小时\",\n          value: \"60min\",\n          websockSend: \"60\",\n        },\n        {\n          name: \"日线\",\n          value: \"1day\",\n          websockSend: \"1D\",\n        },\n        {\n          name: \"周线\",\n          value: \"1week\",\n          websockSend: \"1W\",\n        },\n        {\n          name: \"月线\",\n          value: \"1mon\",\n          websockSend: \"1M\",\n        },\n      ],\n      symbol: \"LTC_USDT\",\n      interval: \"1min\",\n      chart: null,\n      initdata: {},\n      countDate: 0, //累加条数\n      startData: 0, //起始条数\n      lengsData: 200, //结束长度\n      datafeeds: new datafeeds(this),\n      onLoadedCallback: null, //初始数据回调\n      onRealtimeCallback: null, //websocket数据回调\n    };\n  },\n  mounted() {\n    //加载K线图\n    this.loadChart();\n  },\n  methods: {\n    /**\n     * 切换触发\n     * e {string} reset=重置数据\n     */\n    changeTabs(e) {\n      this.interval = e;\n      this.setSymbols();\n      this.chart\n        .chart()\n        .setResolution(this.filter(e), function onReadyCallback(e) {});\n      this.webSocket(\"load\");\n    },\n    filter(time) {\n      if (time == \"1S\") return \"1S\";\n      else if (time == \"1min\") return \"1\";\n      else if (time == \"5min\") return \"5\";\n      else if (time == \"15min\") return \"15\";\n      else if (time == \"30min\") return \"30\";\n      else if (time == \"60min\") return \"60\";\n      else if (time == \"1day\") return \"1D\";\n      else if (time == \"1week\") return \"1W\";\n      else if (time == \"1mon\") return \"1M\";\n    },\n\n    // 请求数据\n    getBars(\n      symbolInfo,\n      resolution,\n      rangeStartDate,\n      rangeEndDate,\n      onLoadedCallback\n    ) {\n      this.onLoadedCallback = onLoadedCallback;\n      this.webSocket(\"load\");\n    },\n\n    //socket\n    subscribeBars(\n      symbolInfo,\n      resolution,\n      onRealtimeCallback,\n      subscriberUID,\n      onResetCacheNeededCallback\n    ) {\n      this.onRealtimeCallback = onRealtimeCallback;\n      this.webSocket(\"get\");\n    },\n\n    //获取配置信息\n    getSymbol(symbol) {\n      return {\n        name: symbol,\n        full_name: symbol,\n        timezone: \"Asia/Shanghai\",\n        minmov: 1,\n        minmov2: 0,\n        pointvalue: 1,\n        fractional: false,\n        //设置周期\n        session: \"24x7\",\n        has_intraday: true,\n        has_no_volume: false,\n        //设置是否支持周月线\n        // has_daily: true,\n        //设置是否支持周月线\n        // has_weekly_and_monthly: true,\n        description: symbol,\n        //设置精度  100表示保留两位小数   1000三位   10000四位\n        pricescale: 100,\n        ticker: symbol,\n        //  'supported_resolutions': ['1', '5', '15', '30', '60', '240','1D', '5D', '1W', '1M']\n      };\n    },\n\n    //设置品信息(重新获取初始数据/推送数据)\n    setSymbols() {\n      let self = this;\n      self.chart.setSymbol(\n        self.symbol,\n        self.filter(self.interval),\n        function () {\n          self.chart.chart().setVisibleRange(self.initdata);\n          self.chart.chart().executeActionById(\"timeScaleReset\");\n        }\n      );\n    },\n\n    //卸载K线\n    removeChart() {\n      if (this.chart) {\n        this.chart.remove();\n        this.chart = null;\n      }\n    },\n\n    //加载K线图插件\n    loadChart() {\n      let self = this;\n      this.chart = new widget({\n        container_id: self.domId,\n        symbol: self.symbol,\n        interval: self.filter(self.interval),\n        locale: \"zh\",\n        autosize: true,\n        fullscreen: false, //是否占用视图所有空间\n        preset: \"mobile\",\n        toolbar_bg: \"#1e2235\",\n        datafeed: this.datafeeds,\n        timezone: \"Asia/Shanghai\",\n        library_path: \"/static/charting_library/\",\n        indicators_file_name: \"custom-study(MACD红绿).js\",\n        drawings_access: {\n          type: \"black\",\n          tools: [{ name: \"Regression Trend\" }],\n        },\n        //配置项\n        ...config,\n        //设置初始化加载条样式\n        loading_screen: {\n          backgroundColor: \"#1e222d\",\n          foregroundColor: \"#5d7d93\",\n        },\n      });\n\n      this.chart.onChartReady(function () {\n        //设置均线种类 均线样式\n        // self.chart.chart().createStudy('Moving Average', false, false, [5], null, {'Plot.color': 'rgb(150, 95, 196)'});\n        // self.chart.chart().createStudy('Moving Average', false, false, [10], null, {'Plot.color': 'rgb(116,149,187)'});\n        // self.chart.chart().createStudy('Moving Average', false, false, [20],null,{\"plot.color\": \"rgb(58,113,74)\"});\n        // self.chart.chart().createStudy('Moving Average', false, false, [30],null,{\"plot.color\": \"rgb(118,32,99)\"});\n        try {\n          self.chart\n            .chart()\n            .createStudy(\"Moving Average\", !1, !1, [7], null, {});\n          self.chart\n            .chart()\n            .createStudy(\"Moving Average\", !1, !1, [10], null, {});\n          self.chart\n            .chart()\n            .createStudy(\"Moving Average\", !1, !1, [30], null, {});\n          if (self.is_MACD) {\n            self.chart.chart().createStudy(\"MACD\", !1, !1, [20], null, {}); //MACD\n            self.chart\n              .chart()\n              .createStudy(\n                \"指数平滑异同移动平均线(MACD_Custom)\",\n                false,\n                false,\n                [20],\n                null,\n                {}\n              ); //自定义MACD\n          }\n        } catch (e) {}\n      });\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n.sTradingviewContent {\n  height: 100%;\n  width: 100%;\n  .tabsWrap {\n    height: 88px;\n  }\n  .sTradingviewView {\n    height: calc(100% - 88px);\n  }\n}\n</style>\n"]}]}
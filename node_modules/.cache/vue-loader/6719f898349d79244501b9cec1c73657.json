{"remainingRequest":"/Users/suhang/Template/tradingview/demo2/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/suhang/Template/tradingview/demo2/src/components/sSimpleCrop/sSimpleCrop.vue?vue&type=style&index=0&id=459dc9fb&lang=scss&scoped=true&","dependencies":[{"path":"/Users/suhang/Template/tradingview/demo2/src/components/sSimpleCrop/sSimpleCrop.vue","mtime":1597639826431},{"path":"/Users/suhang/Template/tradingview/demo2/node_modules/css-loader/dist/cjs.js","mtime":1598844192908},{"path":"/Users/suhang/Template/tradingview/demo2/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1598844194174},{"path":"/Users/suhang/Template/tradingview/demo2/node_modules/postcss-loader/src/index.js","mtime":1598844193730},{"path":"/Users/suhang/Template/tradingview/demo2/node_modules/sass-loader/dist/cjs.js","mtime":1599133639901},{"path":"/Users/suhang/Template/tradingview/demo2/node_modules/cache-loader/dist/cjs.js","mtime":1598844172828},{"path":"/Users/suhang/Template/tradingview/demo2/node_modules/vue-loader/lib/index.js","mtime":1598844194174}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCkBpbXBvcnQgIi4vbW9kdWxlcy9tb2JpbGUuY3NzIjsKQGltcG9ydCAiLi9mb250L2ljb25mb250LmNzcyI7Ci5zaW1wbGUtY3JvcC1XcmFwIHsKICB3aWR0aDogMTAwJTsKICBoZWlnaHQ6IDEwMCU7CiAgLmF2YXRhciB7CiAgICB3aWR0aDogMTAwJTsKICAgIGhlaWdodDogMTAwJTsKICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgIGJhY2tncm91bmQtY29sb3I6ICNhYWE7CiAgICBkaXNwbGF5OiBmbGV4OwogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgaW5wdXQgewogICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgIHRvcDogMDsKICAgICAgbGVmdDogMDsKICAgICAgd2lkdGg6IDEwMCU7CiAgICAgIGhlaWdodDogMTAwJTsKICAgICAgb3BhY2l0eTogMDsKICAgICAgei1pbmRleDogMjsKICAgIH0KICAgIGltZyB7CiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgdG9wOiAwOwogICAgICBsZWZ0OiAwOwogICAgICB3aWR0aDogMTAwJTsKICAgICAgaGVpZ2h0OiAxMDAlOwogICAgfQogICAgLmljb25mb250IHsKICAgICAgY29sb3I6ICNmZmY7CiAgICAgIGZvbnQtc2l6ZTogMzBweDsKICAgIH0KICB9Cn0K"},{"version":3,"sources":["sSimpleCrop.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"sSimpleCrop.vue","sourceRoot":"src/components/sSimpleCrop","sourcesContent":["<template>\n  <div class=\"simple-crop-Wrap\">\n    <simple-crop\n      :crop-params=\"cropParams\"\n      @crop=\"cropCallback\"\n      @upload=\"uploadCallback\"\n      @close=\"closeCallback\"\n    />\n    <div class=\"avatar\" ref=\"avatar\">\n      <input @change=\"setCropImage\" type=\"file\" accept=\"image/*\" />\n      <img v-if=\"imgUrl!=''\" :src=\"imgUrl\" alt />\n      <i v-else :class=\"`iconfont icon-${icon}`\"></i>\n    </div>\n  </div>\n</template>\n<script>\nimport SimpleCrop from \"./modules/index.vue\";\nimport { Base64, Blob } from \"@/common/utils/canvasFormat\";\nexport default {\n  name: \"sSimpleCrop\",\n  components: { SimpleCrop },\n  props: {\n    // 头像显示大小\n    size: {\n      type: String || Number,\n      default: function () {\n        return \"\";\n      },\n    },\n    // 文件返回格式 默认 Blob\n    format: {\n      type: String,\n      default: function () {\n        return \"Blob\";\n      },\n    },\n    // 默认显示图片\n    src: {\n      type: String,\n      default: function () {\n        return \"\";\n      },\n    },\n    // 默认显示上传图标\n    icon: {\n      type: String,\n      default: function () {\n        return \"portrait\";\n      },\n    },\n  },\n  data() {\n    return {\n      imgUrl: \"\",\n      cropParams: {\n        src: \"\", // 裁剪图片地址\n        visible: false,\n        size: {\n          //裁剪尺寸\n          width: 300,\n          height: 300,\n        },\n        borderColor: \"#fff\", //裁剪框边框颜色\n        cropSizePercent: 0.9, //裁剪框显示比例\n      },\n    };\n  },\n  methods: {\n    //监听选择图片\n    setCropImage(evt) {\n      var files = evt.target.files;\n      if (files.length > 0) {\n        this.cropParams = JSON.parse(JSON.stringify(this.cropParams)); //改变对象引用\n        this.cropParams.src = files[0];\n        this.cropParams.visible = true;\n      }\n      evt.target.value = \"\";\n    },\n    //裁剪回调\n    cropCallback(e) {\n      const vm = this;\n      //给裁剪回显 赋值\n      vm.imgUrl = Base64(e);\n\n      // 判断返回Base64格式\n      if (vm.format == \"Base64\") {\n        vm.$emit(\"change\", Base64(e));\n      } else {\n        // 判断返回Blob格式\n        Blob(e).then((res) => {\n          vm.$emit(\"change\", res);\n        });\n      }\n    },\n    //选中的图片 准备进行裁剪\n    uploadCallback(e) {\n      // console.log(e);\n    },\n    //关闭弹出层\n    closeCallback() {\n      // console.log(\"关闭弹出层\");\n    },\n  },\n  mounted() {\n    this.imgUrl = this.src;\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n@import \"./modules/mobile.css\";\n@import \"./font/iconfont.css\";\n.simple-crop-Wrap {\n  width: 100%;\n  height: 100%;\n  .avatar {\n    width: 100%;\n    height: 100%;\n    position: relative;\n    background-color: #aaa;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    input {\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      opacity: 0;\n      z-index: 2;\n    }\n    img {\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n    }\n    .iconfont {\n      color: #fff;\n      font-size: 30px;\n    }\n  }\n}\n</style>"]}]}
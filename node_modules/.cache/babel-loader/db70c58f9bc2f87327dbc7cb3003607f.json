{"remainingRequest":"/Users/suhang/Template/tradingview/demo2/node_modules/babel-loader/lib/index.js!/Users/suhang/Template/tradingview/demo2/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/suhang/Template/tradingview/demo2/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/suhang/Template/tradingview/demo2/src/components/sSimpleCrop/modules/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/suhang/Template/tradingview/demo2/src/components/sSimpleCrop/modules/index.vue","mtime":1597631836919},{"path":"/Users/suhang/Template/tradingview/demo2/node_modules/cache-loader/dist/cjs.js","mtime":1598844172828},{"path":"/Users/suhang/Template/tradingview/demo2/node_modules/babel-loader/lib/index.js","mtime":1598844172845},{"path":"/Users/suhang/Template/tradingview/demo2/node_modules/cache-loader/dist/cjs.js","mtime":1598844172828},{"path":"/Users/suhang/Template/tradingview/demo2/node_modules/vue-loader/lib/index.js","mtime":1598844194174}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1uYW1lcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5jb25zdHJ1Y3RvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcyI7Ci8vCi8vCmltcG9ydCBDb3JlIGZyb20gIi4vaW5kZXguanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgX2luc3RhbmNlOiBudWxsLAogIC8v57uE5Lu25a6e5L6LCiAgcHJvcHM6IFsiY3JvcFBhcmFtcyJdLAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmNyb3BQYXJhbXMuY3JvcENhbGxiYWNrID0gdGhpcy5jcm9wQ2FsbGJhY2suYmluZCh0aGlzKTsKICAgIHRoaXMuY3JvcFBhcmFtcy51cGxvYWRDYWxsYmFjayA9IHRoaXMudXBsb2FkQ2FsbGJhY2suYmluZCh0aGlzKTsKICAgIHRoaXMuY3JvcFBhcmFtcy5jbG9zZUNhbGxiYWNrID0gdGhpcy5jbG9zZUNhbGxiYWNrLmJpbmQodGhpcyk7CiAgICB0aGlzLl9pbnN0YW5jZSA9IG5ldyBDb3JlKHRoaXMuY3JvcFBhcmFtcyk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvL+WFs+mXreWbnuiwgwogICAgY2xvc2VDYWxsYmFjazogZnVuY3Rpb24gY2xvc2VDYWxsYmFjaygpIHsKICAgICAgdGhpcy4kZW1pdCgiY2xvc2UiKTsKICAgIH0sCiAgICAvL+S4iuS8oOWbvueJh+WbnuiwgwogICAgdXBsb2FkQ2FsbGJhY2s6IGZ1bmN0aW9uIHVwbG9hZENhbGxiYWNrKCkgewogICAgICB2YXIgc3JjID0gdGhpcy5faW5zdGFuY2UgPyB0aGlzLl9pbnN0YW5jZS5zcmMgOiB0aGlzLmNyb3BQYXJhbXMuc3JjOwogICAgICB0aGlzLiRlbWl0KCJ1cGxvYWQiLCBzcmMpOwogICAgfSwKICAgIC8v6KOB5Ymq5Zue6LCDCiAgICBjcm9wQ2FsbGJhY2s6IGZ1bmN0aW9uIGNyb3BDYWxsYmFjaygpIHsKICAgICAgdmFyICRyZXN1bHRDYW52YXMgPSB0aGlzLl9pbnN0YW5jZSA/IHRoaXMuX2luc3RhbmNlLiRyZXN1bHRDYW52YXMgOiBudWxsOwogICAgICB0aGlzLiRlbWl0KCJjcm9wIiwgJHJlc3VsdENhbnZhcyk7CiAgICB9LAogICAgLy/lsZ7mgKfmmK/lkKblj5HnlJ/lj5jljJYKICAgIGhhc0NoYW5nZWQ6IGZ1bmN0aW9uIGhhc0NoYW5nZWQobmFtZXMsIHByb3BzKSB7CiAgICAgIHZhciBjdXIgPSB7fTsKICAgICAgdmFyIHByZXYgPSB7fTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICB2YXIgaXRlbSA9IG5hbWVzW2ldOwogICAgICAgIGN1cltpdGVtXSA9IHRoaXMuY3JvcFBhcmFtc1tpdGVtXTsKICAgICAgICBwcmV2W2l0ZW1dID0gcHJvcHNbaXRlbV07CiAgICAgIH0KCiAgICAgIHJldHVybiAhdGhpcy5pc0VxdWl2YWxlbnQoY3VyLCBwcmV2LCBuYW1lcyk7CiAgICB9LAogICAgLy/moLnmja7kuKTkuKrnroDljZXlr7nosaHnmoTlgLzmr5TovoPlroPku6zmmK/lkKbnm7jlkIwKICAgIGlzRXF1aXZhbGVudDogZnVuY3Rpb24gaXNFcXVpdmFsZW50KGEsIGIsIGluY2x1ZGUpIHsKICAgICAgaWYgKGEgIT0gbnVsbCAmJiBiICE9IG51bGwpIHsKICAgICAgICB2YXIgYVByb3BzID0gW107CiAgICAgICAgdmFyIGFUZW1wcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGEpOwogICAgICAgIHZhciBiUHJvcHMgPSBbXTsKICAgICAgICB2YXIgYlRlbXBzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoYik7IC8v5Y+q6ICD6JmRIGluY2x1ZGUKCiAgICAgICAgaWYgKGluY2x1ZGUgaW5zdGFuY2VvZiBBcnJheSkgewogICAgICAgICAgLy8g5pWw57uECiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGluY2x1ZGUubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgdmFyIGl0ZW0gPSBpbmNsdWRlW2ldOwoKICAgICAgICAgICAgaWYgKGFUZW1wcy5pbmNsdWRlcyhpdGVtKSkgewogICAgICAgICAgICAgIGFQcm9wcy5wdXNoKGl0ZW0pOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoYlRlbXBzLmluY2x1ZGVzKGl0ZW0pKSB7CiAgICAgICAgICAgICAgYlByb3BzLnB1c2goaXRlbSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKGluY2x1ZGUgaW5zdGFuY2VvZiBSZWdFeHApIHsKICAgICAgICAgIC8v5q2j5YiZCiAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYVRlbXBzLmxlbmd0aDsgX2krKykgewogICAgICAgICAgICB2YXIgX2l0ZW0gPSBhVGVtcHNbX2ldOwoKICAgICAgICAgICAgaWYgKGluY2x1ZGUudGVzdChfaXRlbSkpIHsKICAgICAgICAgICAgICBhUHJvcHMucHVzaChfaXRlbSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBmb3IgKHZhciBfaTIgPSAwOyBfaTIgPCBiVGVtcHMubGVuZ3RoOyBfaTIrKykgewogICAgICAgICAgICB2YXIgX2l0ZW0yID0gYlRlbXBzW19pMl07CgogICAgICAgICAgICBpZiAoaW5jbHVkZS50ZXN0KF9pdGVtMikpIHsKICAgICAgICAgICAgICBiUHJvcHMucHVzaChfaXRlbTIpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGFQcm9wcyA9IGFUZW1wczsKICAgICAgICAgIGJUZW1wcyA9IGJUZW1wczsKICAgICAgICB9CgogICAgICAgIGlmIChhUHJvcHMubGVuZ3RoICE9IGJQcm9wcy5sZW5ndGgpIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CgogICAgICAgIGZvciAodmFyIF9pMyA9IDA7IF9pMyA8IGFQcm9wcy5sZW5ndGg7IF9pMysrKSB7CiAgICAgICAgICB2YXIgcHJvcE5hbWUgPSBhUHJvcHNbX2kzXTsKCiAgICAgICAgICBpZiAoYVtwcm9wTmFtZV0gIT09IGJbcHJvcE5hbWVdKSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9IGVsc2UgaWYgKGEgPT09IGIpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgIH0KICB9LAogIC8v55uR5ZCs5Y+C5pWw5Y+Y5YyWCiAgd2F0Y2g6IHsKICAgIGNyb3BQYXJhbXM6IGZ1bmN0aW9uIGNyb3BQYXJhbXModmFsLCBvbGRWYWwpIHsKICAgICAgaWYgKHRoaXMuX2luc3RhbmNlKSB7CiAgICAgICAgaWYgKHRoaXMuaGFzQ2hhbmdlZChbInNyYyJdLCBvbGRWYWwpKSB7CiAgICAgICAgICB0aGlzLl9pbnN0YW5jZS5zZXRJbWFnZSh0aGlzLmNyb3BQYXJhbXMuc3JjKTsKICAgICAgICB9CgogICAgICAgIGlmICh0aGlzLmhhc0NoYW5nZWQoWyJyb3RhdGVTbGlkZXIiLCAic3RhcnRBbmdsZSIsICJlbmRBbmdsZSIsICJnYXBBbmdsZSIsICJsaW5lYXRpb25JdGVtV2lkdGgiXSwgb2xkVmFsKSkgewogICAgICAgICAgdGhpcy5faW5zdGFuY2UuaW5pdFJvdGF0ZVNsaWRlcih0aGlzLmNyb3BQYXJhbXMpOwogICAgICAgIH0KCiAgICAgICAgaWYgKHRoaXMuaGFzQ2hhbmdlZChbImNyb3BTaXplUGVyY2VudCJdLCBvbGRWYWwpIHx8ICF0aGlzLmlzRXF1aXZhbGVudCh0aGlzLmNyb3BQYXJhbXMucG9zaXRpb25PZmZzZXQsIG9sZFZhbC5wb3NpdGlvbk9mZnNldCwgWyJ0b3AiLCAibGVmdCJdKSB8fCAhdGhpcy5pc0VxdWl2YWxlbnQodGhpcy5jcm9wUGFyYW1zLnNpemUsIG9sZFZhbC5zaXplLCBbIndpZHRoIiwgImhlaWdodCJdKSkgewogICAgICAgICAgdGhpcy5faW5zdGFuY2UudXBkYXRlQm94KHRoaXMuY3JvcFBhcmFtcyk7CiAgICAgICAgfQoKICAgICAgICBpZiAodGhpcy5oYXNDaGFuZ2VkKFsiYm9yZGVyV2lkdGgiLCAiYm9yZGVyQ29sb3IiLCAiYm9sZENvcm5lckxlbiIsICJjb3ZlckNvbG9yIiwgImJvcmRlckRyYXciLCAiY292ZXJEcmF3Il0sIG9sZFZhbCkpIHsKICAgICAgICAgIHRoaXMuX2luc3RhbmNlLmluaXRCb3hCb3JkZXIodGhpcy5jcm9wUGFyYW1zKTsKICAgICAgICB9CgogICAgICAgIGlmICghdGhpcy5pc0VxdWl2YWxlbnQodGhpcy5jcm9wUGFyYW1zLmZ1bmNCdG5zLCBvbGRWYWwuZnVuY0J0bnMsIC9eWzAtOV0qJC8pKSB7CiAgICAgICAgICB0aGlzLl9pbnN0YW5jZS5pbml0RnVuY0J0bnModGhpcy5jcm9wUGFyYW1zKTsKICAgICAgICB9CgogICAgICAgIGlmICh0aGlzLmhhc0NoYW5nZWQoWyJzY2FsZVNsaWRlciIsICJtYXhTY2FsZSJdLCBvbGRWYWwpKSB7CiAgICAgICAgICB0aGlzLl9pbnN0YW5jZS5pbml0U2NhbGVTbGlkZXIodGhpcy5jcm9wUGFyYW1zKTsKICAgICAgICB9CgogICAgICAgIGlmICh0aGlzLmhhc0NoYW5nZWQoWyJ0aXRsZSJdLCBvbGRWYWwpKSB7CiAgICAgICAgICB0aGlzLl9pbnN0YW5jZS5pbml0VGl0bGUodGhpcy5jcm9wUGFyYW1zKTsKICAgICAgICB9CgogICAgICAgIGlmICh0aGlzLmNyb3BQYXJhbXMudmlzaWJsZSA9PSBmYWxzZSkgewogICAgICAgICAgdGhpcy5faW5zdGFuY2UuaGlkZSgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLl9pbnN0YW5jZS5zaG93KCk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template></template>\n\n<script>\nimport Core from \"./index.js\";\n\nexport default {\n  _instance: null, //组件实例\n\n  props: [\"cropParams\"],\n\n  mounted() {\n    this.cropParams.cropCallback = this.cropCallback.bind(this);\n    this.cropParams.uploadCallback = this.uploadCallback.bind(this);\n    this.cropParams.closeCallback = this.closeCallback.bind(this);\n    this._instance = new Core(this.cropParams);\n  },\n\n  methods: {\n    //关闭回调\n    closeCallback() {\n      this.$emit(\"close\");\n    },\n\n    //上传图片回调\n    uploadCallback() {\n      let src = this._instance ? this._instance.src : this.cropParams.src;\n      this.$emit(\"upload\", src);\n    },\n\n    //裁剪回调\n    cropCallback() {\n      let $resultCanvas = this._instance ? this._instance.$resultCanvas : null;\n      this.$emit(\"crop\", $resultCanvas);\n    },\n\n    //属性是否发生变化\n    hasChanged(names, props) {\n      let cur = {};\n      let prev = {};\n      for (let i = 0; i < names.length; i++) {\n        let item = names[i];\n        cur[item] = this.cropParams[item];\n        prev[item] = props[item];\n      }\n      return !this.isEquivalent(cur, prev, names);\n    },\n\n    //根据两个简单对象的值比较它们是否相同\n    isEquivalent(a, b, include) {\n      if (a != null && b != null) {\n        let aProps = [];\n        let aTemps = Object.getOwnPropertyNames(a);\n        let bProps = [];\n        let bTemps = Object.getOwnPropertyNames(b);\n\n        //只考虑 include\n        if (include instanceof Array) {\n          // 数组\n          for (let i = 0; i < include.length; i++) {\n            let item = include[i];\n            if (aTemps.includes(item)) {\n              aProps.push(item);\n            }\n            if (bTemps.includes(item)) {\n              bProps.push(item);\n            }\n          }\n        } else if (include instanceof RegExp) {\n          //正则\n          for (let i = 0; i < aTemps.length; i++) {\n            let item = aTemps[i];\n            if (include.test(item)) {\n              aProps.push(item);\n            }\n          }\n          for (let i = 0; i < bTemps.length; i++) {\n            let item = bTemps[i];\n            if (include.test(item)) {\n              bProps.push(item);\n            }\n          }\n        } else {\n          aProps = aTemps;\n          bTemps = bTemps;\n        }\n\n        if (aProps.length != bProps.length) {\n          return false;\n        }\n\n        for (let i = 0; i < aProps.length; i++) {\n          let propName = aProps[i];\n          if (a[propName] !== b[propName]) {\n            return false;\n          }\n        }\n\n        return true;\n      } else if (a === b) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n  },\n\n  //监听参数变化\n  watch: {\n    cropParams(val, oldVal) {\n      if (this._instance) {\n        if (this.hasChanged([\"src\"], oldVal)) {\n          this._instance.setImage(this.cropParams.src);\n        }\n\n        if (\n          this.hasChanged(\n            [\n              \"rotateSlider\",\n              \"startAngle\",\n              \"endAngle\",\n              \"gapAngle\",\n              \"lineationItemWidth\",\n            ],\n            oldVal\n          )\n        ) {\n          this._instance.initRotateSlider(this.cropParams);\n        }\n\n        if (\n          this.hasChanged([\"cropSizePercent\"], oldVal) ||\n          !this.isEquivalent(\n            this.cropParams.positionOffset,\n            oldVal.positionOffset,\n            [\"top\", \"left\"]\n          ) ||\n          !this.isEquivalent(this.cropParams.size, oldVal.size, [\n            \"width\",\n            \"height\",\n          ])\n        ) {\n          this._instance.updateBox(this.cropParams);\n        }\n\n        if (\n          this.hasChanged(\n            [\n              \"borderWidth\",\n              \"borderColor\",\n              \"boldCornerLen\",\n              \"coverColor\",\n              \"borderDraw\",\n              \"coverDraw\",\n            ],\n            oldVal\n          )\n        ) {\n          this._instance.initBoxBorder(this.cropParams);\n        }\n\n        if (\n          !this.isEquivalent(\n            this.cropParams.funcBtns,\n            oldVal.funcBtns,\n            /^[0-9]*$/\n          )\n        ) {\n          this._instance.initFuncBtns(this.cropParams);\n        }\n\n        if (this.hasChanged([\"scaleSlider\", \"maxScale\"], oldVal)) {\n          this._instance.initScaleSlider(this.cropParams);\n        }\n\n        if (this.hasChanged([\"title\"], oldVal)) {\n          this._instance.initTitle(this.cropParams);\n        }\n\n        if (this.cropParams.visible == false) {\n          this._instance.hide();\n        } else {\n          this._instance.show();\n        }\n      }\n    },\n  },\n};\n</script>\n\n<style scoped></style>\n"],"sourceRoot":"src/components/sSimpleCrop/modules"}]}
{"remainingRequest":"/Users/suhang/Template/tradingview/demo2/node_modules/babel-loader/lib/index.js!/Users/suhang/Template/tradingview/demo2/src/common/utils/canvasFormat.js","dependencies":[{"path":"/Users/suhang/Template/tradingview/demo2/src/common/utils/canvasFormat.js","mtime":1597634791828},{"path":"/Users/suhang/Template/tradingview/demo2/node_modules/cache-loader/dist/cjs.js","mtime":1598844172828},{"path":"/Users/suhang/Template/tradingview/demo2/node_modules/babel-loader/lib/index.js","mtime":1598844172845}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CgovKioKICogY2FudmFzIOi9rOaNouagvOW8jwogKiBhdXRob3LvvJroi4/oiKoKICog5oCd5ZCm5Y2a5a6i77yaaHR0cHM6Ly9zZWdtZW50ZmF1bHQuY29tL3Uvc3VoYW5nd2ViCiAqIOiwg+eUqOaWueazleWmguS4i++8mgogKiDlhajlsYDosIPnlKggbWFpbuaWh+S7tgogKiBpbXBvcnQgKiBhcyBjYW52YXNGb3JtYXQgZnJvbSAnLi9jb21tb24vdXRpbHMvY2FudmFzRm9ybWF0JzsKICogVnVlLnByb3RvdHlwZS4kY2FudmFzRm9ybWF0ID0gY2FudmFzRm9ybWF0OwogKiDljZXpobXpnaLosIPnlKgKICogaW1wb3J0IHtnZXRGbG9hdFN0cixzdWJzdHJpbmd9IGZyb20gJy4vY29tbW9uL3V0aWxzL2NhbnZhc0Zvcm1hdCcKICovCgovKioKICogY2FudmFzIOi9rOaNouS4uiBiYXNlNjTmoLzlvI8KICogQHBhcmFtIHsqfSBjYW52YXMgICBjYW52YXMgZG9t5paH5Lu2CiAqIEBwYXJhbSB7U3RyaW5nfSBmb3JtYXQg5qC85byP6buY6K6kcG5nIAogKi8KZXhwb3J0IHZhciBCYXNlNjQgPSBmdW5jdGlvbiBCYXNlNjQoY2FudmFzLCBmb3JtYXQpIHsKICByZXR1cm4gY2FudmFzLnRvRGF0YVVSTCgiaW1hZ2UvIi5jb25jYXQoZm9ybWF0ID8gZm9ybWF0IDogJ3BuZycpKTsKfTsKLyoqCiAqIGNhbnZhc+i9rOS4umJsb2Llr7nosaEKICog5bCGY2FudmFz6L6T5Ye65Li6QmxvYuWvueixoe+8jOi/meagt+WwseWPr+S7peWDj0ZpbGXlr7nosaHkuIDmoLfmk43kvZzlroPkuoYKICogQHBhcmFtIHsqfSBjYW52YXMgICBjYW52YXMgZG9t5paH5Lu2CiAqLwoKZXhwb3J0IHZhciBCbG9iID0gZnVuY3Rpb24gQmxvYihjYW52YXMpIHsKICAvLyByZXR1cm4gY2FudmFzLnRvQmxvYihmdW5jdGlvbiAoYmxvYk9iaikgewogIC8vICAgICAvL2Jsb2JPYmrlsLHmmK9ibG9i5a+56LGh77yI57G75paH5Lu277yJCiAgLy8gICAgIHJldHVybiBibG9iT2JqCiAgLy8gfSkKICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgY2FudmFzLnRvQmxvYihmdW5jdGlvbiAoYmxvYk9iaikgewogICAgICAvL2Jsb2JPYmrlsLHmmK9ibG9i5a+56LGh77yI57G75paH5Lu277yJCiAgICAgIHJlc29sdmUoYmxvYk9iaik7CiAgICB9KTsKICB9KTsKfTs="},{"version":3,"sources":["/Users/suhang/Template/tradingview/demo2/src/common/utils/canvasFormat.js"],"names":["Base64","canvas","format","toDataURL","Blob","Promise","resolve","reject","toBlob","blobObj"],"mappings":";;AAAA;;;;;;;;;;;;AAYA;;;;;AAKA,OAAO,IAAMA,MAAM,GAAG,SAATA,MAAS,CAACC,MAAD,EAASC,MAAT,EAAoB;AACtC,SAAOD,MAAM,CAACE,SAAP,iBAA0BD,MAAM,GAAGA,MAAH,GAAY,KAA5C,EAAP;AACH,CAFM;AAKP;;;;;;AAKA,OAAO,IAAME,IAAI,GAAG,SAAPA,IAAO,CAACH,MAAD,EAAY;AAC5B;AACA;AACA;AACA;AACA,SAAO,IAAII,OAAJ,CAAY,UAASC,OAAT,EAAkBC,MAAlB,EAA0B;AACzCN,IAAAA,MAAM,CAACO,MAAP,CAAc,UAAUC,OAAV,EAAmB;AAC7B;AACAH,MAAAA,OAAO,CAACG,OAAD,CAAP;AACH,KAHD;AAIH,GALM,CAAP;AAMH,CAXM","sourcesContent":["/**\n * canvas 转换格式\n * author：苏航\n * 思否博客：https://segmentfault.com/u/suhangweb\n * 调用方法如下：\n * 全局调用 main文件\n * import * as canvasFormat from './common/utils/canvasFormat';\n * Vue.prototype.$canvasFormat = canvasFormat;\n * 单页面调用\n * import {getFloatStr,substring} from './common/utils/canvasFormat'\n */\n\n/**\n * canvas 转换为 base64格式\n * @param {*} canvas   canvas dom文件\n * @param {String} format 格式默认png \n */\nexport const Base64 = (canvas, format) => {\n    return canvas.toDataURL(`image/${format ? format : 'png'}`)\n}\n\n\n/**\n * canvas转为blob对象\n * 将canvas输出为Blob对象，这样就可以像File对象一样操作它了\n * @param {*} canvas   canvas dom文件\n */\nexport const Blob = (canvas) => {\n    // return canvas.toBlob(function (blobObj) {\n    //     //blobObj就是blob对象（类文件）\n    //     return blobObj\n    // })\n    return new Promise(function(resolve, reject) {\n        canvas.toBlob(function (blobObj) {\n            //blobObj就是blob对象（类文件）\n            resolve(blobObj); \n        })\n    })\n}"]}]}